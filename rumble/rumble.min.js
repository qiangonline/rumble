!function(e,t,i,n){"use strict";function a(e,t){function i(e){e=e.originalEvent,$(e.target).is(r)||e.preventDefault(),l.startX="touchstart"===e.type?e.touches[0].clientX:e.clientX,l.startY="touchstart"===e.type?e.touches[0].clientY:e.clientY}function a(e){e=e.originalEvent,l.endX="touchend"===e.type?e.changedTouches[0].clientX:e.clientX,l.endY="touchend"===e.type?e.changedTouches[0].clientY:e.clientY,d===o.VERTICAL?Math.abs(l.endY-l.startY)>c&&("function"==typeof s.setting.onSwipeEnd&&s.setting.onSwipeEnd(e),l.endY>l.startY?s.previous():s.next()):d===o.HORIZONTAL&&Math.abs(l.endX-l.startX)>c&&("function"==typeof s.setting.onSwipeEnd&&s.setting.onSwipeEnd(e),l.endX>l.startX?s.previous():s.next())}var s=this;if(s.setting={direction:"vertical",slidesPerView:1,initSlideIndex:0,loop:!1,threshold:50,disabled:!1},$.extend(s.setting,t||{}),s.container=$(e),1!=s.container.length)return console.error("The container is error."),n;s.wrapper=s.container.children(".rumble-wrapper:first"),s.sliding=!1,s.timeout=[],s.disabled=s.setting.disabled,s.length=s.wrapper.children(".slide").length,s.flag=Math.random().toString(36).replace(/\D/,"");var l={},d=s.setting.direction,c=s.setting.threshold,h=s.container;h.on("touchstart mousedown",i),h.on("touchend mouseup",a),s.init()}var s="webkitTransitionEnd msTransitionEnd MSTransitionEnd oTransitionEnd transitionend",r="input, select, textarea, button, a, area",o={HORIZONTAL:"horizontal",VERTICAL:"vertical"};a.prototype={init:function(){var e=this,t=e.container,i=e.wrapper,n=e.setting.direction,a=e.setting.initSlideIndex,s=e.setting.slidesPerView,r=Math.floor(a/s);t.removeClass("cloak"),n===o.HORIZONTAL?t.addClass(o.HORIZONTAL):n===o.VERTICAL&&t.addClass(o.VERTICAL),i.children(".slide").find(".animated").addClass("cloak").attr("data-flag",e.flag),i.children(".slide").each(function(e){$(this).attr("data-original-sequence",e)});for(var l=e.getSlideIndexsInView(r),d=l.length-1;d>-1;d--)i.children('.slide[data-original-sequence="'+l[d]+'"]').addClass("active");e.act()},next:function(){var e=this,t=e.wrapper,i=e.setting.slidesPerView,n=+t.children(".slide.active").attr("data-original-sequence")+i;e.go(n,1)},previous:function(){var e=this,t=e.wrapper,i=e.setting.slidesPerView,n=+t.children(".slide.active").attr("data-original-sequence")-i;e.go(n,-1)},act:function(){var e=this,t=e.wrapper;t.children(".slide.active").find('.animated[data-flag="'+e.flag+'"]').each(function(e){var t=this,i=+$(t).attr("data-animation-duration"),n=$(t).attr("data-animation"),a=+$(t).attr("data-animation-delay");isNaN(i)||$(t).css({animationDuration:i+"ms"}),$(t).css({animationDelay:(isNaN(a)?300*e:a)+"ms"}),$(t).removeClass("cloak").addClass(n)})},locate:function(){var e,t=this,i=t.wrapper,n=t.setting.direction;n===o.HORIZONTAL?e="matrix(1,0,0,1,"+-i.children(".slide.active").position().left+",0)":n===o.VERTICAL&&(e="matrix(1,0,0,1,0,"+-i.children(".slide.active").position().top+")"),i.css({transform:e,webkitTransform:e})},go:function(e,t){var i=this;if(t=t||1,!i.sliding&&!i.disabled){var n,a,r,l=i.wrapper,d=+l.children(".slide.active").attr("data-original-sequence"),c=i.length,h=i.setting.loop,g=(i.setting.slidesPerView,i.setting.direction);if(h?e>c-1?e-=c:0>e&&(e+=c):1===t?e=e>c-1?c-1:e:-1===t&&(e=0>e?0:e),n=i.getSlideIndexsInView(e,t),h){for(r=n.length-1;r>-1;r--)1===t?l.children(".slide.active:last").after(l.children('.slide[data-original-sequence="'+n[r]+'"]')):-1===t&&l.children(".slide.active:first").before(l.children('.slide[data-original-sequence="'+n[r]+'"]'));i.locate()}if(-1===n.indexOf(d)){i.sliding=!0,g===o.HORIZONTAL?a="matrix(1,0,0,1,"+-l.children('.slide[data-original-sequence="'+n[1===t?0:n.length-1]+'"]').position().left+",0)":g===o.VERTICAL&&(a="matrix(1,0,0,1,0,"+-l.children('.slide[data-original-sequence="'+n[1===t?0:n.length-1]+'"]').position().top+")");for(var r=n.length-1;r>-1;r--)l.children('.slide[data-original-sequence="'+n[r]+'"]').addClass("entering");l.children(".slide.active").addClass("leaving"),l.children(".slide.entering").find('.animated[data-flag="'+i.flag+'"]').each(function(){$(this).addClass("cloak").removeClass($(this).attr("data-animation"))}),l.addClass("alive").css({transform:a,webkitTransform:a}).one(s,function(e){e.originalEvent.stopPropagation(),l.removeClass("alive"),l.children(".slide").removeClass("leaving").removeClass("active"),l.children(".slide.entering").removeClass("entering").addClass("active"),i.locate(),i.act(),"function"==typeof i.setting.onSlideEnd&&i.setting.onSlideEnd(),i.sliding=!1}),"function"==typeof i.setting.onSlideStart&&i.setting.onSlideStart()}}},slideTo:function(e){{var t=this;t.wrapper}t.go(e)},getActiveSlideIndexs:function(){var e=this,t=[];return e.wrapper.children(".slide.active").each(function(){t.push(+$(this).attr("data-original-sequence"))}),t},getSlideIndexsInView:function(e,t){t=t||1;var i,n=this,a=0,s=n.length,r=n.setting.slidesPerView,o=n.setting.loop,l=[];if(o){i=r;for(var d;i>a;a++)d=e+a,d>s-1?d-=s:0>d&&(d+=s),l.push(d);-1===t&&(l=l.reverse())}else for(i=s;i>a;a++)Math.floor(a/r)===Math.floor(e/r)&&l.push(a);return l},clearAnimationTimeout:function(){for(var e=this,t=e.timeout,i=t.length;i>-1;i--)clearTimeout(t[i]);t.length=0}},e[i]=a}(window,document,"Rumble");